{% extends 'base.html' %}
{% block title %}Đăng nhập{% endblock %}

{% block content %}
<div class="container py-3">
  <nav aria-label="breadcrumb">
    <ol class="breadcrumb">
      <li class="breadcrumb-item"><a href="{% url 'core:home' %}" class="text-decoration-none text-muted">Trang chủ</a></li>
      <li class="breadcrumb-item active" aria-current="page">Đăng nhập</li>
    </ol>
  </nav>
</div>

<div class="container pb-5">
  <div class="row justify-content-center">
    <div class="col-md-6 col-lg-5">
      <div class="card shadow-sm border-0">
        <div class="card-body p-5">
          <h3 class="text-center fw-bold mb-4">ĐĂNG NHẬP</h3>
          <form method="post">
            {% csrf_token %}

            {# Phần hiển thị thông báo lỗi chung của form #}
            {% if form.errors and not form.non_field_errors %}
            <div class="alert alert-danger" role="alert">
              Vui lòng sửa các lỗi sau trong biểu mẫu.
            </div>
            {% endif %}

            {% if form.non_field_errors %}
            {% for error in form.non_field_errors %}
            <div class="alert alert-danger" role="alert">
              {{ error }}
            </div>
            {% endfor %}
            {% endif %}
            {# Kết thúc phần thông báo lỗi chung #}
            
            <div class="mb-3">
              <label class="form-label fw-bold fst-italic">{{ form.username.label }}</label>
              {{ form.username }}
              {# Hiển thị lỗi cụ thể cho trường username (nếu có) #}
              {% for error in form.username.errors %}
              <div class="text-danger small">{{ error }}</div>
              {% endfor %}
            </div>
            <div class="mb-3">
              <label class="form-label fw-bold fst-italic">{{ form.password.label }}</label>
              {{ form.password }}
              {# Hiển thị lỗi cụ thể cho trường password (nếu có) #}
              {% for error in form.password.errors %}
              <div class="text-danger small">{{ error }}</div>
              {% endfor %}
            </div>

            <div class="text-end mb-3">
                <a href="#" class="text-danger text-decoration-none small">Quên mật khẩu ?</a>
            </div>

            <div class="d-grid gap-3">
                <button type="submit" class="btn btn-lumiere fw-bold text-uppercase py-2">Đăng nhập</button>
                <a href="{% url 'users:register' %}" class="btn btn-outline-lumiere fw-bold text-uppercase py-2">Tạo tài khoản</a>
            </div>

            <div class="text-center my-3 position-relative">
                <hr class="text-muted opacity-25">
                <span class="position-absolute top-50 start-50 translate-middle bg-white px-3 text-muted fw-bold">Hoặc</span>
            </div>

            <div class="d-grid gap-3">
                <button type="button" class="btn btn-outline-secondary fw-bold py-2 position-relative">
                    <i class="bi bi-google position-absolute start-0 ms-3 text-danger"></i>
                    Đăng nhập với Google
                </button>
                <button type="button" class="btn btn-outline-secondary fw-bold py-2 position-relative">
                    <i class="bi bi-facebook position-absolute start-0 ms-3 text-primary"></i>
                    Đăng nhập với Facebook
                </button>
            </div>

          </form>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}