{% extends "base.html" %}
{% load static %}

{% block title %}Thanh toán VietQR{% endblock %}

{% block content %}
<div class="container mb-5">
    <div class="row justify-content-center">
        <div class="col-md-8 text-center">
            <img src="https://vietqr.net/img/logo.png" alt="VietQR" style="height: 50px;" class="mb-3">
            <h2 class="mt-3">Thanh toán qua VietQR</h2>
            <p class="lead">Sử dụng ứng dụng ngân hàng bất kỳ để quét mã QR bên dưới.</p>
            
            <div class="card mt-4 shadow-sm d-inline-block p-3">
                <!-- VietQR API: https://img.vietqr.io/image/<BANK_ID>-<ACCOUNT_NO>-<TEMPLATE>.png -->
                <!-- Example: Vietcombank (970436), Acc: 0071001234567 -->
                <img src="https://img.vietqr.io/image/VCB-0071001234567-compact2.png?amount={{ order.total_amount|floatformat:0 }}&addInfo=THANHTOAN {{ order.order_number }}&accountName=CONG TY SACH BOOKSTORE" 
                     alt="VietQR Code" class="img-fluid" style="max-width: 300px;">
                
                <div class="mt-3 text-start">
                    <p class="mb-1">Ngân hàng: <strong>Vietcombank</strong></p>
                    <p class="mb-1">Số tài khoản: <strong>0071001234567</strong></p>
                    <p class="mb-1">Chủ tài khoản: <strong>CONG TY SACH BOOKSTORE</strong></p>
                    <p class="mb-1">Số tiền: <strong class="text-danger">{{ order.total_amount|floatformat:0 }}₫</strong></p>
                    <p class="mb-0">Nội dung: <strong>THANHTOAN {{ order.order_number }}</strong></p>
                </div>
            </div>

            <div class="mt-4">
                <a href="{% url 'orders:order_success' order.id %}" class="btn btn-success btn-lg">
                    Tôi đã thanh toán
                </a>
                <a href="{% url 'orders:order_history' %}" class="btn btn-secondary btn-lg ms-2">
                    Quay lại
                </a>
                <a href="{% url 'core:home' %}" class="btn btn-outline-secondary btn-lg ms-2">
                    Về trang chủ
                </a>
            </div>
        </div>
    </div>
</div>
{% endblock %}
